<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Rock, paper, scissors, ...</title>
</head>
<body>
    <h1>Rock, Paper, Scissors....</h1>
    <h2>Lizard, Spock!</h2>

    <div class="players">
        <h3>Amount of players</h3>
        <div class="players"><select name="players" id="players">
            <option value="1">1 Player</option>
            <option value="2">2 Players</option>
        </select></div>
    </div>

    <div class="player1">
        <h3 >Player 1</h3>
        <select name="p1choice" id="p1choice"></select>
        <p>score: <span id="score1"></span></p>
    </div>

    <div class="player2">
        <h3>Player 2</h3>
        <select name="p2choice" id="p2choice" disabled></select>
        <p>score: <span id="score2"></span></p>
    </div>

    <div class="play"><button id="play">Play</button></div>

    <div id="result"></div>

    <script>
        let play = document.getElementById("play");
        play.addEventListener("click", playGame);
        let players = document.getElementById("players");
        players.addEventListener("change", changeGame);
        let p1choice = document.getElementById("p1choice");
        let p2choice = document.getElementById("p2choice");
        let choices = ["rock", "paper", "scissors"];
        let i1 = 0;
        let i2 = 0;
        let result = document.getElementById("result");
        let score1 = document.getElementById("score1");
        let score2 = document.getElementById("score2");


        for (choice of choices) {
            let element = document.createElement("option");
            element.value = choice;
            element.innerHTML = choice;
            p1choice.append(element);
        }
        for (choice of choices) {
            let element = document.createElement("option");
            element.value = choice;
            element.innerHTML = choice;
            p2choice.append(element);
        }
        function playGame(event){
            let p1value = p1choice.value;
            let p2value;

            if (p2choice.disabled === false) {
                p2value = p2choice.value;
            }
            else {
                p2value = choices[Math.floor(Math.random()*choices.length)];
            }
            if (p1value === p2value) {
              result.innerHTML  = "<br>" + "Player 1: " + p1value + "<br>" + "Player 2: " + p2value + "<br>" + "<br>" + "Tie!"
            }
            else if (p1value === "rock") {
              if (p2value === "paper") {
              result.innerHTML  = "<br>" + "Player 1: " + p1value + "<br>" + "Player 2: " + p2value + "<br>" +"<br>" + "Player 2 wins!"
              i2 += 1;
              score2.innerHTML  = i2;
              }
              else {
              result.innerHTML  = "<br>" + "Player 1: " + p1value + "<br>" + "Player 2: " + p2value + "<br>"+"<br>" + "Player 1 wins!"
              i1 += 1;
              score1.innerHTML  = i1;
              }
            }
            else if (p1value === "paper") {
              if (p2value === "rock") {
              result.innerHTML  = "<br>" + "Player 1: " + p1value + "<br>" + "Player 2: " + p2value + "<br>" +"<br>"+ "Player 1 wins!"
              i1 += 1;
              score1.innerHTML  = i1;
              }
              else {
              result.innerHTML  = "<br>" + "Player 1: " + p1value + "<br>" + "Player 2: " + p2value + "<br>" +"<br>"+ "Player 2 wins!"
              i2 += 1;
              score2.innerHTML  = i2;
              }
            }
            else if (p1value === "scissors") {
              if (p2value === "paper") {
              result.innerHTML   = "<br>" + "Player 1: " + p1value + "<br>" + "Player 2: " + p2value + "<br>" +"<br>"+ "Player 1 wins!"
              i1 += 1;
              score1.innerHTML  = i1;
              }
              else {
              result.innerHTML   = "<br>" + "Player 1: " + p1value + "<br>" + "Player 2: " + p2value + "<br>" +"<br>"+ "Player 2 wins!"
              i2 += 1;
              score2.innerHTML  = i2;
              }
            }



        }
        function changeGame(event){
            if (players.value === "1") {
                p2choice.disabled = true;
            }

            else {
                p2choice.disabled = false;
            }
        }


/*


      //popup winner
        function winner() {
          if ()
          {alert("Player 1 wins!")}
          else if()
          {alert("Player 2 wins!")}

        }
        */

    </script>
</body>
</html>
